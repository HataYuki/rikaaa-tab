/**
 * @license
 * rikaaa-tab.js
 *
 * Generated : 2019-07-21
 * Version : 1.0.3
 * Author : rikaaa.org | Yuki Hata
 * Url : http://rikaaa.org
 *
 *
 * The MIT License (MIT)
 *
 * Copyright 2019 rikaaa.org | Yuki Hata
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t,n){return(i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return i(e,arguments,r(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o(a,e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return function(e){if(Array.isArray(e))return e}(e)||c(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var d=function(e,t,n){return Math.max(t,Math.min(n,e))},h=function(e,t,n,r,o){return r+(e-t)/(n-t)*(o-r)};[].keys||(Array.prototype.keys=function(){var e,t=[],n=0,r=this;for(e=r.length;e>0;)t[--e]=e;return t.next=function(){return n<r.length?{value:n++,done:!1}:{done:!0}},t});var f=function(){function t(n){e(this,t),this._len=n&&n>1?n:2,this._arrival=1/this._len}return n(t,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.peakX>=0&&t.peakX<=1?t.peakX:.5,r=t.smooth>=0&&t.smooth<=1?t.smooth:.3,o=t.dissolve>=0&&t.dissolve<=1?t.dissolve:.5,i=t.edge>=0&&t.edge<=1?t.edge:1;return this.calcMult(d(e,0,1),d(n,0,1),d(r,0,1),d(o,0,1),d(i,0,1))}},{key:"calcMult",value:function(e,t,n,r,o){var i=this,a=1-d(r,0,1),s=h(e,0,1,.5*o,a*(this._len-1)+h(o,0,1,1,.5));return l(Array(this._len).keys()).reduce(function(e,r){var o=Math.max(Math.min(s-a*r,1),0);return e.concat([i.calc(o,t,n)])},[])}},{key:"calc",value:function(e,t,n){var r=d(e,0,1),o=d(t,0,1),i=n?h(d(n,0,1),0,1,0,.5):0,a=this.method(r,o);return 0===i?a:this.smoothstep(0+i,1-i/2,a)}},{key:"method",value:function(e,t){return Math.max(Math.min(Math.min(e/t,1-(e-t)/(1-t)),1),0)}},{key:"smoothstep",value:function(e,t,n){var r=d((n-e)/(t-e),0,1);return Math.pow(r,2)*(3-2*r)}}]),t}(),p=function(){function t(n,r){e(this,t),this._type=n||"linear",this._t=0,this._d=r}return n(t,[{key:"Convarsion",value:function(e){return e>=1?1:e}},{key:"ease_in",value:function(){return this._t*this._t}},{key:"ease_out",value:function(){return this._t*(2-this._t)}},{key:"ease_in_out",value:function(){return this._t<.5?2*this._t*this._t:(4-2*this._t)*this._t-1}},{key:"linear",value:function(){return this._t}},{key:"Start",value:function(e){this._now=performance.now();var t=this;return requestAnimationFrame(function n(r){t.requ=requestAnimationFrame(n);t._t=t.Convarsion((r-t._now)/t._d);switch(t._type.replace(/-/g,"_")){case"linear":e(t.linear());break;case"ease_in":e(t.ease_in());break;case"ease_out":e(t.ease_out());break;case"ease_in_out":e(t.ease_in_out())}t._t>=1&&(cancelAnimationFrame(t.requ),"function"==typeof t._endFunc&&t._endFunc())}),this}},{key:"End",value:function(e){this._endFunc=e}},{key:"Stop",value:function(e){cancelAnimationFrame(this.requ),"function"==typeof e&&e()}},{key:"duration",set:function(e){this._d=e},get:function(){return this._d}},{key:"type",set:function(e){this._type=e}}]),t}();function v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function b(e,t){return e(t={exports:{}},t.exports),t.exports}var y=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=!0;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n?(t=e.apply(this,r),n=!1,t):(e=null,!1)}}});v(y);var m=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout(function(){return e.apply(this,r)},t)}}});v(m);var _=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=null,r=null,o=y.default(e),i=m.default(e,t),a=m.default(function(){o=y.default(e),r=null,cancelAnimationFrame(n)},t);return function(){for(var s=this,u=[],l=0;l<arguments.length;l++)u[l]=arguments[l];return o.apply(this,u),n=requestAnimationFrame(function(o){if(null===r&&(r=o),o-r>=t)return r=null,cancelAnimationFrame(n),e.apply(s,u)}),a(),i.apply(this,u)}}});v(_);var g=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){void 0===n&&(n={observValKeyName:"watch"});var r=e,o=n.observValKeyName;return function(e){for(var n=[],i=null,a=0;a<arguments.length;a++)arguments[a]&&arguments[a].constructor==Object?(i=arguments[a][o],delete arguments[a][o],Object.keys(arguments[a]).length>0&&n.push(arguments[a])):n.push(arguments[a]);return r!==i&&(r=i,t.apply(this,n))}}});v(g);var w=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"none"!==(e.currentStyle||getComputedStyle(e,"")).display}});v(w);var E=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=getComputedStyle(e,""),n=e.getBoundingClientRect(),r=function(e){return" "===e?0:parseFloat(e||"0px")},o=r(t.paddingTop),i=r(t.paddingBottom),a=r(t.paddingLeft),s=o+i,u=a+r(t.paddingRight),l=r(t.borderTopWidth)+r(t.borderBottomWidth),c=r(t.borderLeftWidth)+r(t.borderRightWidth),d=n.width-u-c,h=n.height-s-l,f=w.default(e)?{width:d,height:h,x:a,y:o,top:o,left:a,bottom:o+h,right:a+d}:{width:0,height:0,x:0,y:0,top:0,left:0,bottom:0,right:0};return Object.freeze(f)}});v(E),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;var o,i,a=0|t,s=Math.max(a>=0?a:r-Math.abs(a),0);for(;s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}});var k=b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.instanceOfResizeWatcher=[],this.targetsAll=[],this.mutationObserverConfig={childList:!0,attributes:!0,characterData:!0,subtree:!0},this.watcher_binded=_.default(e.watcher.bind(null,this),e.THROTTLE_INTERVAL),this.mo=new MutationObserver(this.watcher_binded),this.firstCallback=m.default(y.default(function(t){t.forEach(function(t){var n=t.entries.map(function(t){if(e.isDisplay(t.target))return Object.freeze({target:t.target,contentRect:t.contentRect})}).filter(function(e){return void 0!==e});0!==n.length&&t.callback(n)})}),e.THROTTLE_INTERVAL)}return e.prototype.init=function(e){this.instanceOfResizeWatcher.push(e)},e.prototype.observe=function(){this.targetsAll=e.updateTargetsAll(this),0!==this.targetsAll.length&&e.onWatcher(this),this.entriesContaner=e.calculateEntriesContaner(this.instanceOfResizeWatcher),this.firstCallback(this.entriesContaner)},e.prototype.unobserve=function(){this.targetsAll=e.updateTargetsAll(this),this.entriesContaner=e.calculateEntriesContaner(this.instanceOfResizeWatcher)},e.prototype.disconnect=function(){this.targetsAll=e.updateTargetsAll(this),this.entriesContaner=e.calculateEntriesContaner(this.instanceOfResizeWatcher),0===this.targetsAll.length&&e.offWatcher(this)},e.watcher=function(t){t.entriesContaner.forEach(function(t){var n=t.entries.map(function(t){var n=e.calculateContentRect(t.target),r=t.valueObserver({watch:e.contentRectWHToStr(n)});if(r&&(t.contentRect=n),r)return Object.freeze({target:t.target,contentRect:t.contentRect})}).filter(function(e){return void 0!==e});0!==n.length&&t.callback(n)})},e.calculateEntriesContaner=function(t){return t.map(function(t){var n=t.targets.map(function(t){var n=e.calculateContentRect(t);return{contentRect:n,target:t,valueObserver:g.default(e.contentRectWHToStr(n),function(){return!0})}});return t.entries=n,t})},e.contentRectWHToStr=function(e){return""+e.width+e.height},e.updateTargetsAll=function(e){return e.instanceOfResizeWatcher.map(function(e){return e.targets}).reduce(function(e,t){return e.concat(t)},[])},e.onWatcher=function(e){e.mo.disconnect(),e.mo.observe(document.getElementsByTagName("html")[0],e.mutationObserverConfig),window.addEventListener("resize",e.watcher_binded,!1)},e.offWatcher=function(e){e.mo.disconnect(),window.removeEventListener("resize",e.watcher_binded)},e.calculateContentRect=function(e){return E.default(e)},e.isDisplay=function(e){return w.default(e)},Object.defineProperty(e,"THROTTLE_INTERVAL",{get:function(){return 33},enumerable:!0,configurable:!0}),e}();t.default=n});v(k);var L=v(b(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new k.default,r=function(){function e(e){this.callback=e,this.targets=[],this.entries=[],n.init(this)}return e.prototype.observe=function(e){this.targets.includes(e)||this.targets.push(e),n.observe()},e.prototype.unobserve=function(e){this.targets=this.targets.filter(function(t){return t!==e}),n.unobserve()},e.prototype.disconnect=function(){this.targets=[],n.disconnect()},e.calculateContentRect=function(e){return k.default.calculateContentRect(e)},e.isDisplay=function(e){return k.default.isDisplay(e)},Object.defineProperty(e,"THROTTLE_INTERVAL",{get:function(){return k.default.THROTTLE_INTERVAL},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CONTROLLER",{get:function(){return n},enumerable:!0,configurable:!0}),e}();t.default=r})),O=function(e){var t,n=!0;return function(){return n?(t=e.apply(this,arguments),n=!1,t):(e=null,!1)}},R=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).observValKeyName,r=e,o=n||"watch";return function(){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});for(var e=[],n=null,i=0;i<arguments.length;i++)arguments[i]&&arguments[i].constructor==Object?(n=arguments[i][o],delete arguments[i][o],Object.keys(arguments[i]).length>0&&e.push(arguments[i])):e.push(arguments[i]);return r!==n&&(r=n,t.apply(this,e))}};Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var T="<style>".concat(":host {  display: block; }  :host * {    -webkit-box-sizing: border-box;            box-sizing: border-box; }  :host .tab {    line-height: 0; }  :host .panel {    position: relative; }    :host .panel.us-none {      -webkit-user-select: none;         -moz-user-select: none;          -ms-user-select: none;              user-select: none; }  :host .panel ::slotted(*) {    position: absolute;    pointer-events: none; }  :host .horizon {    display: -webkit-box;    display: -ms-flexbox;    display: flex; }    :host .horizon ::slotted(*) {      position: static; }","</style>"),A="\n    ".concat(T,'\n    <div class="wp">\n        <div class="tab">\n            <slot class="tab_slot" name="tab"></slot>\n        </div>\n        <slot class="seekbar_slot" name="bar"></slot>\n        <div class="panel">\n            <slot class="panel_slot"></slot>\n        </div>\n    </div>\n'),S=document.createElement("template");S.id="rikaaatab",S.innerHTML=A,window.ShadyCSS&&ShadyCSS.prepareTemplate(S,"rikaaa-tab");var C=function(t){function i(){var t,n,o;return e(this,i),n=this,t=!(o=r(i).call(this))||"object"!=typeof o&&"function"!=typeof o?s(n):o,window.ShadyCSS&&ShadyCSS.styleElement(s(t)),t.attachShadow({mode:"open"}),t.shadowRoot.appendChild(S.content.cloneNode(!0)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(i,a(HTMLElement)),n(i,[{key:"connectedCallback",value:function(){var e=this;this.style.visibility="hidden";this.imgonload(function(){!function(){e._ease=new p("ease_in_out"),e._tab=e.shadowRoot.querySelector(".tab"),e._panel=e.shadowRoot.querySelector(".panel"),e._wp=e.shadowRoot.querySelector(".wp"),e._tabslot=e.shadowRoot.querySelector(".tab_slot"),e._panelslot=e.shadowRoot.querySelector(".panel_slot"),e._seekbarslot=e.shadowRoot.querySelector(".seekbar_slot"),window.ResizeObserver||window.rikaaaReiszeObserver||Object.defineProperty(window,"WcRikaaaResizeObserver",{value:L});var t,n,r=window.ResizeObserver||window.WcRikaaaResizeObserver;e._tabs=e._tabslot.assignedNodes({flattern:!0}).filter(function(e){return e.nodeType===e.ELEMENT_NODE}),e._panels=e._panelslot.assignedNodes({flatten:!0}).filter(function(e){return e.nodeType===e.ELEMENT_NODE}),e._bar=e._seekbarslot.assignedNodes({flatten:!0}).filter(function(e){return e.nodeType===e.ELEMENT_NODE})[0],e._panelsH=Array.from(e._panels).reduce(function(e,t){return e.concat(t.offsetHeight)},[]);var o,i,a=function(r){var o=r.pageX,i=e.horizon?o-t:t-o,a=1/e._panels.length,s=i/e.offsetWidth;e.horizon?e.seed=n+s:e.seed=n+a*s*2};e.attachslide=function(r){e._panel.addEventListener("mousemove",a),e._panel.addEventListener("touchmove",a),t=r.pageX,n=e.seed,e.sliding=!0,e._panel.classList.add("us-none")},e.releaseslide=function(){e._panel.removeEventListener("mousemove",a),e._panel.removeEventListener("touchmove",a);var t=e.index,n=Math.round(t)-t;0!==n&&e._ease.Start(function(r){e.index=t+n*r}).End(function(){e.sliding=!1,e._panel.classList.remove("us-none")})},e._panel.addEventListener("mousedown",e.attachslide),e._panel.addEventListener("touchstart",e.attachslide),e._panel.addEventListener("mouseup",e.releaseslide),e._panel.addEventListener("touchend",e.releaseslide),e._panel.addEventListener("mouseleave",e.releaseslide),e._panel.addEventListener("touchleave",e.releaseslide);var s=function(t){var n=(t.pageX-o)/e.offsetWidth;e.seed=i+n};e.attachslide_b=function(t){e._bar.addEventListener("mousemove",s),e._bar.addEventListener("touchmove",s);var n=(t.pageX-e.offsetLeft)/e.offsetWidth-1/e._panels.length;e.seed=n,i=n,o=t.pageX,e.sliding=!0,e._panel.classList.add("us-none")},e.releaseslide_b=function(){e._bar.removeEventListener("mousemove",s),e._bar.removeEventListener("touchmove",s);var t=e.index,n=Math.round(t)-t;0!==n&&e._ease.Start(function(r){e.index=t+n*r}).End(function(){e.sliding=!1,e._panel.classList.remove("us-none")})},e._bar&&(e._bar.addEventListener("mousedown",e.attachslide_b),e._bar.addEventListener("touchstart",e.attachslide_b),window.addEventListener("mouseup",e.releaseslide_b),window.addEventListener("touchend",e.releaseslide_b),window.addEventListener("mouseleave",e.releaseslide_b),window.addEventListener("touchleave",e.releaseslide_b)),null===e.seed&&(e.seed=0),null===e.seekbarH&&(e.seekbarH=3),null===e.tabChangeDuration&&(e.tabChangeDuration=200),null===e.horizon&&(e.horizon=!1),null===e.opmin&&(e.opmin=0),e.tabChangeDuration=e.tabChangeDuration,e.seekbarH=e.seekbarH,e.horizon=e.horizon,e.seed=e.seed,e.opmin=e.opmin,Array.from(e._tabs).forEach(function(e){return e.classList.add("tabs")}),e.tabclick=function(t){console.log("tabclick");var n=e._tabs,r=n.indexOf(t.target.closest(".tabs"))-e.index,o=1/n.length,i=e.seed;e._ease.type="ease_out",e._ease.Start(function(t){e.seed=i+o*(r*t)})},e._tabs.length&&e._tabslot.addEventListener("click",e.tabclick);var u=function(){e.seedchangeObserver=R(e.seed,function(e){e()})},l=O(u),c=null;e.resizeRedraw=function(){l(),e.redraw(),clearTimeout(c),c=setTimeout(function(){l=O(u)},1)},e.resizeOb=new r(e.resizeRedraw),e.resizeOb.observe(e)}(),e.style.visibility="",e.dispatchEvent(new CustomEvent("load"))})}},{key:"disconnectedCallback",value:function(){var e=this,t=this.shadowRoot.querySelector(".seekbar_slot").assignedNodes({flatten:!0}).filter(function(e){return e.nodeType===e.ELEMENT_NODE})[0],n=this.shadowRoot.querySelector(".panel"),r=this.shadowRoot.querySelector(".tab_slot");this.imgonload(function(){t.removeEventListener("mousedown",e.attachslide_b),t.removeEventListener("touchstart",e.attachslide_b),window.removeEventListener("mouseup",e.releaseslide_b),window.removeEventListener("touchend",e.releaseslide_b),window.removeEventListener("mouseleave",e.releaseslide_b),window.removeEventListener("touchleave",e.releaseslide_b),n.removeEventListener("mousedown",e.attachslide),n.removeEventListener("touchstart",e.attachslide),n.removeEventListener("mouseup",e.releaseslide),n.removeEventListener("touchend",e.releaseslide),n.removeEventListener("mouseleave",e.releaseslide),n.removeEventListener("touchleave",e.releaseslide),r.removeEventListener("click",e.tabclick),e.resizeOb.disconnect(e)})}},{key:"addtabproperty",value:function(){var e=this;this._tabs.length&&this._farray.forEach(function(t,n){h(t,e.opmin,1,0,1)>=.5?e._tabs[n].classList.add("select"):e._tabs[n].classList.remove("select")})}},{key:"forLoopCalc",value:function(e,t,n){var r=1/n,o=l(t);o.reverse();var i=u(o),a=i[0],s=i.slice(1);return s.reverse(),e>=r*(n-1)&&(s[0]=a),l(s)}},{key:"fade",value:function(e){var t=this,n=e-Math.floor(e),r=this._panels,o=new f(r.length+1).get(n),i=this.forLoopCalc(n,o,r.length).map(function(e){return Math.max(Math.min(e+t.opmin,1),0)});r.forEach(function(e,t){return e.style.opacity=i[t]}),r.forEach(function(e,t){i[t]>=.5?e.classList.add("select"):e.classList.remove("select")}),this._farray=i,"function"==typeof this.seedchangeObserver&&this.seedchangeObserver(function(){t.onfade(i)},{watch:e})}},{key:"onfade",value:function(e){var t=new CustomEvent("onfade",{detail:{seed:this.seed,fade:e}});this.dispatchEvent(t)}},{key:"fadeH",value:function(e){var t=e-Math.floor(e),n=this._panels,r=this._panelsH,o=new f(n.length+1).get(t,{smooth:0}),i=this.forLoopCalc(t,o,n.length),a=r.map(function(e,t){return e*i[t]}).reduce(function(e,t){return e+t});this.horizon?this._panel.style.height="":this._panel.style.height="".concat(a,"px")}},{key:"seek",value:function(e){var t=this._panels,n=e,r=1/t.length*(t.length-1)+1e-14,o=n-r-Math.floor(n-r);this._bar&&(this._bar.querySelector(".bar").style.width="".concat(100*o,"%"))}},{key:"redraw",value:function(){this._panelsH=Array.from(this._panels).reduce(function(e,t){return e.concat(t.offsetHeight)},[]),this.fade(this.seed),this.fadeH(this.seed)}},{key:"next",value:function(){var e=this,t=1/this._panels.length,n=this.seed;this._ease.Start(function(r){e.sliding||(e.seed=n+t*r)})}},{key:"prev",value:function(){var e=this,t=1/this._panels.length,n=this.seed;this._ease.Start(function(r){e.sliding||(e.seed=n-t*r)})}},{key:"imgonload",value:function(e){var t=this;!function(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?setTimeout(function(){e()},0):document.addEventListener("DOMContentLoaded",e)}(function(){var n,r;n=t,r=Array.from(n.querySelectorAll("img")),Promise.all(r.map(function(e){return new Promise(function(t,n){if(null===e)t();else{var r=e.src;e.src="",e.addEventListener("load",function(){t()}),e.src=r}})})).then(function(){e()})})}},{key:"seed",get:function(){var e=this.getAttribute("seed");return null===e?e:Number(e)},set:function(e){e-=Math.floor(e),this.setAttribute("seed",e),this.fade(e),this.seek(e),this.fadeH(e),this.addtabproperty();var t=this._panels,n=e/(1/t.length);n>=t.length+1&&(n=0),n<=-1&&(n=t.length-1),this.setAttribute("index",n)}},{key:"index",get:function(){var e=this.getAttribute("index");return null===e?e:Number(e)},set:function(e){var t=this._tabs;t.length||(t=this._panels);var n=1/t.length;this.seed=n*e}},{key:"tabChangeDuration",get:function(){var e=this.getAttribute("tabChangeDuration");return null===e?e:Number(e)},set:function(e){this.setAttribute("tabChangeDuration",e),this._ease.duration=e}},{key:"seekbarH",get:function(){var e=this.getAttribute("seekbarH");return null===e?e:Number(e)},set:function(e){this.setAttribute("seekbarH",e),this._bar&&(this._bar.querySelector(".bar").style.height="".concat(e,"px"))}},{key:"horizon",get:function(){var e=this.getAttribute("horizon");return null===e?e:"true"===e.toLowerCase()},set:function(e){if("boolean"!=typeof e)throw new TypeError("need boolean");this.setAttribute("horizon",e);var t=this._panels;e?(this._panel.classList.add("horizon"),Array.from(t).map(function(e){return e.style.width="".concat(100/t.length,"%")})):(this._panel.classList.remove("horizon"),Array.from(t).map(function(e){return e.style.width=""})),this.redraw()}},{key:"opmin",get:function(){var e=this.getAttribute("opmin");return null===e?e:Number(e)},set:function(e){this.setAttribute("opmin",e),this.fade(this.seed)}}]),i}();customElements.define("rikaaa-tab",C)}();